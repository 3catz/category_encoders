

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Leave One Out &mdash; Category Encoders latest documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> Category Encoders
          

          
          </a>

          
            
            
              <div class="version">
                latest
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="backward_difference.html">Backward Difference Coding</a></li>
<li class="toctree-l1"><a class="reference internal" href="basen.html">BaseN</a></li>
<li class="toctree-l1"><a class="reference internal" href="binary.html">Binary</a></li>
<li class="toctree-l1"><a class="reference internal" href="catboost.html">CatBoost Encoder</a></li>
<li class="toctree-l1"><a class="reference internal" href="hashing.html">Hashing</a></li>
<li class="toctree-l1"><a class="reference internal" href="helmert.html">Helmert Coding</a></li>
<li class="toctree-l1"><a class="reference internal" href="jamesstein.html">James-Stein Encoder</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Leave One Out</a><ul class="simple">
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="mestimate.html">M-estimate</a></li>
<li class="toctree-l1"><a class="reference internal" href="onehot.html">One Hot</a></li>
<li class="toctree-l1"><a class="reference internal" href="ordinal.html">Ordinal</a></li>
<li class="toctree-l1"><a class="reference internal" href="polynomial.html">Polynomial Coding</a></li>
<li class="toctree-l1"><a class="reference internal" href="sum.html">Sum Coding</a></li>
<li class="toctree-l1"><a class="reference internal" href="targetencoder.html">Target Encoder</a></li>
<li class="toctree-l1"><a class="reference internal" href="woe.html">Weight of Evidence</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Category Encoders</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Leave One Out</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/leaveoneout.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="leave-one-out">
<h1>Leave One Out<a class="headerlink" href="#leave-one-out" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="category_encoders.leave_one_out.LeaveOneOutEncoder">
<em class="property">class </em><code class="descclassname">category_encoders.leave_one_out.</code><code class="descname">LeaveOneOutEncoder</code><span class="sig-paren">(</span><em>verbose=0</em>, <em>cols=None</em>, <em>drop_invariant=False</em>, <em>return_df=True</em>, <em>handle_unknown='value'</em>, <em>handle_missing='value'</em>, <em>random_state=None</em>, <em>sigma=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/category_encoders/leave_one_out.html#LeaveOneOutEncoder"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#category_encoders.leave_one_out.LeaveOneOutEncoder" title="Permalink to this definition">¶</a></dt>
<dd><p>Leave one out coding for categorical features.</p>
<p>This is very similar to target encoding but excludes the current row’s
target when calculating the mean target for a level to reduce the effect
of outliers.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>verbose: int</strong></dt>
<dd><p class="first last">integer indicating verbosity of the output. 0 for none.</p>
</dd>
<dt><strong>cols: list</strong></dt>
<dd><p class="first last">a list of columns to encode, if None, all string columns will be encoded.</p>
</dd>
<dt><strong>drop_invariant: bool</strong></dt>
<dd><p class="first last">boolean for whether or not to drop columns with 0 variance.</p>
</dd>
<dt><strong>return_df: bool</strong></dt>
<dd><p class="first last">boolean for whether to return a pandas DataFrame from transform (otherwise it will be a numpy array).</p>
</dd>
<dt><strong>handle_missing: str</strong></dt>
<dd><p class="first last">options are ‘error’, ‘return_nan’  and ‘value’, defaults to ‘value’, which returns the target mean.</p>
</dd>
<dt><strong>handle_unknown: str</strong></dt>
<dd><p class="first last">options are ‘error’, ‘return_nan’ and ‘value’, defaults to ‘value’, which returns the target mean.</p>
</dd>
<dt><strong>sigma: float</strong></dt>
<dd><p class="first last">adds normal (Gaussian) distribution noise into training data in order to decrease overfitting (testing
data are untouched). Sigma gives the standard deviation (spread or “width”) of the normal distribution.
The optimal value is commonly between 0.05 and 0.6. The default is to not add noise, but that leads
to significantly suboptimal results.</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
<p class="rubric">References</p>
<table class="docutils citation" frame="void" id="r309474039f73-1" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[R309474039f73-1]</td><td>Strategies to encode categorical variables with many categories, from</td></tr>
</tbody>
</table>
<p><a class="reference external" href="https://www.kaggle.com/c/caterpillar-tube-pricing/discussion/15748#143154">https://www.kaggle.com/c/caterpillar-tube-pricing/discussion/15748#143154</a>.</p>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#category_encoders.leave_one_out.LeaveOneOutEncoder.fit" title="category_encoders.leave_one_out.LeaveOneOutEncoder.fit"><code class="xref py py-obj docutils literal notranslate"><span class="pre">fit</span></code></a>(self,&nbsp;X,&nbsp;y,&nbsp;\*\*kwargs)</td>
<td>Fit encoder according to X and y.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#category_encoders.leave_one_out.LeaveOneOutEncoder.fit_transform" title="category_encoders.leave_one_out.LeaveOneOutEncoder.fit_transform"><code class="xref py py-obj docutils literal notranslate"><span class="pre">fit_transform</span></code></a>(self,&nbsp;X[,&nbsp;y])</td>
<td>Encoders that utilize the target must make sure that the training data are transformed with:</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#category_encoders.leave_one_out.LeaveOneOutEncoder.get_feature_names" title="category_encoders.leave_one_out.LeaveOneOutEncoder.get_feature_names"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_feature_names</span></code></a>(self)</td>
<td>Returns the names of all transformed / added columns.</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_params</span></code>(self[,&nbsp;deep])</td>
<td>Get parameters for this estimator.</td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_params</span></code>(self,&nbsp;\*\*params)</td>
<td>Set the parameters of this estimator.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#category_encoders.leave_one_out.LeaveOneOutEncoder.transform" title="category_encoders.leave_one_out.LeaveOneOutEncoder.transform"><code class="xref py py-obj docutils literal notranslate"><span class="pre">transform</span></code></a>(self,&nbsp;X[,&nbsp;y,&nbsp;override_return_df])</td>
<td>Perform the transformation to new categorical data.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#category_encoders.leave_one_out.LeaveOneOutEncoder.transform_leave_one_out" title="category_encoders.leave_one_out.LeaveOneOutEncoder.transform_leave_one_out"><code class="xref py py-obj docutils literal notranslate"><span class="pre">transform_leave_one_out</span></code></a>(self,&nbsp;X_in,&nbsp;y[,&nbsp;mapping])</td>
<td>Leave one out encoding uses a single column of floats to represent the means of the target variables.</td>
</tr>
</tbody>
</table>
<table border="1" class="docutils">
<colgroup>
<col width="68%" />
<col width="32%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><strong>fit_column_map</strong></td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td><strong>fit_leave_one_out</strong></td>
<td>&#160;</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="category_encoders.leave_one_out.LeaveOneOutEncoder.fit">
<code class="descname">fit</code><span class="sig-paren">(</span><em>self</em>, <em>X</em>, <em>y</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/category_encoders/leave_one_out.html#LeaveOneOutEncoder.fit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#category_encoders.leave_one_out.LeaveOneOutEncoder.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Fit encoder according to X and y.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first docutils">
<dt><strong>X</strong> <span class="classifier-delimiter">:</span> <span class="classifier">array-like, shape = [n_samples, n_features]</span></dt>
<dd><p class="first last">Training vectors, where n_samples is the number of samples
and n_features is the number of features.</p>
</dd>
<dt><strong>y</strong> <span class="classifier-delimiter">:</span> <span class="classifier">array-like, shape = [n_samples]</span></dt>
<dd><p class="first last">Target values.</p>
</dd>
</dl>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>self</strong> <span class="classifier-delimiter">:</span> <span class="classifier">encoder</span></dt>
<dd><p class="first last">Returns self.</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="category_encoders.leave_one_out.LeaveOneOutEncoder.fit_transform">
<code class="descname">fit_transform</code><span class="sig-paren">(</span><em>self</em>, <em>X</em>, <em>y=None</em>, <em>**fit_params</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/category_encoders/leave_one_out.html#LeaveOneOutEncoder.fit_transform"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#category_encoders.leave_one_out.LeaveOneOutEncoder.fit_transform" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Encoders that utilize the target must make sure that the training data are transformed with:</dt>
<dd>transform(X, y)</dd>
<dt>and not with:</dt>
<dd>transform(X)</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="category_encoders.leave_one_out.LeaveOneOutEncoder.get_feature_names">
<code class="descname">get_feature_names</code><span class="sig-paren">(</span><em>self</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/category_encoders/leave_one_out.html#LeaveOneOutEncoder.get_feature_names"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#category_encoders.leave_one_out.LeaveOneOutEncoder.get_feature_names" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the names of all transformed / added columns.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><dl class="first last docutils">
<dt>feature_names: list</dt>
<dd><p class="first last">A list with all feature names transformed or added.
Note: potentially dropped features are not included!</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="category_encoders.leave_one_out.LeaveOneOutEncoder.transform">
<code class="descname">transform</code><span class="sig-paren">(</span><em>self</em>, <em>X</em>, <em>y=None</em>, <em>override_return_df=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/category_encoders/leave_one_out.html#LeaveOneOutEncoder.transform"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#category_encoders.leave_one_out.LeaveOneOutEncoder.transform" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform the transformation to new categorical data.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first docutils">
<dt><strong>X</strong> <span class="classifier-delimiter">:</span> <span class="classifier">array-like, shape = [n_samples, n_features]</span></dt>
<dd></dd>
<dt><strong>y</strong> <span class="classifier-delimiter">:</span> <span class="classifier">array-like, shape = [n_samples] when transform by leave one out</span></dt>
<dd><p class="first last">None, when transform without target information (such as transform test set)</p>
</dd>
</dl>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>p</strong> <span class="classifier-delimiter">:</span> <span class="classifier">array, shape = [n_samples, n_numeric + N]</span></dt>
<dd><p class="first last">Transformed values with encoding applied.</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="category_encoders.leave_one_out.LeaveOneOutEncoder.transform_leave_one_out">
<code class="descname">transform_leave_one_out</code><span class="sig-paren">(</span><em>self</em>, <em>X_in</em>, <em>y</em>, <em>mapping=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/category_encoders/leave_one_out.html#LeaveOneOutEncoder.transform_leave_one_out"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#category_encoders.leave_one_out.LeaveOneOutEncoder.transform_leave_one_out" title="Permalink to this definition">¶</a></dt>
<dd><p>Leave one out encoding uses a single column of floats to represent the means of the target variables.</p>
</dd></dl>

</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, Will McGinnis

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>